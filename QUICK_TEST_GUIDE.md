# iPad 數字鍵盤快速測試指南

## 🎯 關鍵修改說明

**問題根源**：iOS Safari 會忽略 `type="number"` 元素的 `inputMode` 屬性

**解決方案**：將所有數字輸入從 `type="number"` 改為 `type="text"` + JavaScript 驗證

## ✅ 測試前準備

1. **清除瀏覽器緩存**（重要！）
   - 在 iPad Safari 中：設定 > Safari > 清除瀏覽記錄與網站資料
   - 或在網頁上：長按重新整理按鈕 > 清除緩存

2. **重新部署應用程式**
   ```bash
   npm run build
   ```

3. **在 iPad 上以橫向模式開啟應用程式**

## 🧪 快速測試步驟

### 測試 1：血壓輸入（純數字鍵盤）
1. 開啟「新增監測記錄」
2. 點擊「血壓收縮壓」欄位
3. ✅ **預期**：看到 0-9 純數字鍵盤（無字母鍵）
4. 輸入 "120"
5. 嘗試輸入字母 - 應該無法輸入

### 測試 2：體溫輸入（小數點數字鍵盤）
1. 點擊「體溫」欄位
2. ✅ **預期**：看到帶小數點的數字鍵盤
3. 輸入 "36.5"
4. 可以輸入小數點

### 測試 3：批量新增模式
1. 開啟「批量新增監測記錄」
2. 選擇「生命表徵」
3. 測試所有數字欄位
4. ✅ **預期**：每個欄位都顯示正確的數字鍵盤

## 📋 完整欄位清單

### 純數字鍵盤（inputMode="numeric"）
- ✅ 血壓收縮壓（0-300）
- ✅ 血壓舒張壓（0-200）
- ✅ 脈搏（0-300）
- ✅ 血含氧量（0-100）
- ✅ 呼吸頻率（0-100）

### 小數點數字鍵盤（inputMode="decimal"）
- ✅ 體溫（30-45°C）
- ✅ 血糖值（0-50 mmol/L）
- ✅ 體重（0-300 kg）

## 🔧 如果還是看不到數字鍵盤

### 檢查清單：
1. [ ] 已清除 Safari 緩存
2. [ ] 已重新建置並部署應用程式（npm run build）
3. [ ] 使用 Safari 瀏覽器（非 Chrome 或其他）
4. [ ] iPad 處於橫向模式
5. [ ] iOS 版本為 12.2 或更高

### 驗證修改是否生效：
在 iPad Safari 開發者工具中檢查 input 元素：
```html
<!-- 應該看到這樣的屬性 -->
<input
  type="text"
  inputMode="numeric"
  pattern="[0-9]*"
  autoComplete="off"
/>
```

### 強制重新載入：
在 Safari 中：
1. 長按重新整理按鈕
2. 選擇「清除緩存並重新載入」
3. 或關閉並重新開啟標籤頁

## 📊 驗證數據輸入正確性

即使欄位類型改為 `type="text"`，JavaScript 驗證確保：

1. **純整數欄位**：
   - 自動過濾所有非數字字符
   - 驗證數值範圍
   - 無法輸入字母、符號或小數點

2. **小數欄位**：
   - 自動過濾除數字和小數點外的字符
   - 驗證數值範圍
   - 允許一個小數點

## 🐛 測試記錄

請在測試後記錄結果：

| 欄位 | 鍵盤類型正確 | 可以輸入數字 | 無法輸入文字 |
|------|------------|------------|------------|
| 血壓收縮壓 | ⬜ | ⬜ | ⬜ |
| 血壓舒張壓 | ⬜ | ⬜ | ⬜ |
| 脈搏 | ⬜ | ⬜ | ⬜ |
| 體溫 | ⬜ | ⬜ | ⬜ |
| 血含氧量 | ⬜ | ⬜ | ⬜ |
| 呼吸頻率 | ⬜ | ⬜ | ⬜ |
| 血糖值 | ⬜ | ⬜ | ⬜ |
| 體重 | ⬜ | ⬜ | ⬜ |

## 📱 裝置資訊

測試時請記錄：
- iPad 型號：_______________
- iOS 版本：_______________
- Safari 版本：_______________
- 測試日期：_______________
- 測試結果：[ ] 通過 [ ] 失敗

## 💡 技術說明

**為什麼要使用 `type="text"` 而不是 `type="number"`？**

在 iOS Safari 中，當 input 元素的 type 為 "number" 時：
- 瀏覽器會使用內建的數字輸入處理
- **完全忽略 `inputMode` 屬性**
- 結果顯示完整的 QWERTY 鍵盤

使用 `type="text"` + `inputMode` + JavaScript 驗證：
- ✅ iOS 正確識別 `inputMode` 屬性
- ✅ 顯示純數字或小數點數字鍵盤
- ✅ JavaScript 確保數據有效性
- ✅ 完美的用戶體驗
